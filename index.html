
+<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Bharath Kumar K | Data Portfolio</title>
    <link href="https://fonts.googleapis.com/css2?family=Outfit:wght@300;400;600;800&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    
    <style>
        /* --- 1. CORE STYLES --- */
        :root {
            --bg: #0b0f19;
            --card: #151b2b;
            --text: #e2e8f0;
            --text-muted: #94a3b8;
            --accent: #0ea5e9;
            --accent-glow: rgba(14, 165, 233, 0.4);
            --gradient: linear-gradient(135deg, #0ea5e9 0%, #6366f1 100%);
            --danger: #ef4444;
            --success: #22c55e;
        }

        * { margin: 0; padding: 0; box-sizing: border-box; }
        body { font-family: 'Outfit', sans-serif; background: var(--bg); color: var(--text); overflow-x: hidden; }
        
        img { width: 100%; height: 100%; object-fit: cover; transition: 0.5s; }
        .container { max-width: 1200px; margin: 0 auto; padding: 0 20px; }
        
        /* HEADER */
        header { padding: 20px 0; position: fixed; width: 100%; z-index: 100; background: rgba(11, 15, 25, 0.9); backdrop-filter: blur(10px); border-bottom: 1px solid rgba(255,255,255,0.05); }
        nav { display: flex; justify-content: space-between; align-items: center; }
        .logo { font-weight: 800; font-size: 1.5rem; letter-spacing: -1px; }
        .logo span { background: var(--gradient); -webkit-background-clip: text; -webkit-text-fill-color: transparent; }
        
        /* HERO SECTION */
        .hero { min-height: 100vh; display: flex; align-items: center; position: relative; padding-top: 80px; }
        .hero-text { flex: 1; z-index: 2; padding-right: 50px; }
        .hero-img { flex: 1; height: 500px; border-radius: 20px; overflow: hidden; position: relative; box-shadow: 0 20px 50px rgba(0,0,0,0.5); border: 1px solid rgba(255,255,255,0.1); }
        .hero h1 { font-size: 4rem; line-height: 1.1; margin-bottom: 20px; }
        .hero p { font-size: 1.2rem; color: var(--text-muted); margin-bottom: 30px; }
        
        /* BUTTONS */
        .btn { padding: 12px 30px; border-radius: 50px; text-decoration: none; font-weight: 600; display: inline-block; transition: 0.3s; cursor: pointer; border: none; }
        .btn-primary { background: var(--gradient); color: white; box-shadow: 0 10px 20px var(--accent-glow); }
        .btn-primary:hover { transform: translateY(-3px); box-shadow: 0 15px 30px var(--accent-glow); }
        .btn-danger { background: var(--danger); color: white; padding: 8px 16px; font-size: 0.85rem; border-radius: 5px; }
        .btn-success { background: var(--success); color: white; padding: 10px 20px; font-size: 0.9rem; border-radius: 5px; }
        .btn-sm { padding: 8px 16px; font-size: 0.85rem; }

        /* SECTIONS */
        .section-header { text-align: center; margin: 100px 0 50px; }
        .section-header h2 { font-size: 2.5rem; margin-bottom: 10px; }
        
        /* PROJECTS GRID */
        .grid { display: grid; grid-template-columns: repeat(auto-fill, minmax(350px, 1fr)); gap: 30px; }
        .card { background: var(--card); border-radius: 20px; overflow: hidden; border: 1px solid rgba(255,255,255,0.05); transition: 0.3s; height: 100%; display: flex; flex-direction: column; }
        .card:hover { transform: translateY(-10px); border-color: var(--accent); }
        .card-img { height: 200px; overflow: hidden; position: relative; }
        .card-img:hover img { transform: scale(1.1); }
        .card-content { padding: 25px; flex-grow: 1; display: flex; flex-direction: column; }
        .tags { margin: 15px 0; display: flex; gap: 8px; flex-wrap: wrap; }
        .tag { font-size: 0.75rem; padding: 5px 12px; background: rgba(255,255,255,0.05); border-radius: 20px; color: var(--accent); transition: 0.3s; }
        
        /* CERTIFICATES & SKILLS */
        .cert-row { display: flex; align-items: center; gap: 20px; padding: 20px; background: var(--card); margin-bottom: 15px; border-radius: 15px; border-left: 5px solid var(--accent); transition: 0.3s; cursor: pointer; }
        .cert-row:hover { background: #1e293b; transform: translateX(10px); }

        /* ADMIN PANEL */
        .admin-btn-main {
            position: fixed;
            bottom: 30px;
            right: 30px;
            background: var(--accent);
            color: white;
            border: none;
            border-radius: 50%;
            width: 60px;
            height: 60px;
            font-size: 1.5rem;
            cursor: pointer;
            box-shadow: 0 10px 30px rgba(14, 165, 233, 0.5);
            transition: 0.3s;
            z-index: 500;
        }
        .admin-btn-main:hover { transform: scale(1.1); }

        /* LOGIN MODAL STYLES */
        .login-modal {
            display: none;
            position: fixed;
            z-index: 10000;
            left: 0;
            top: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(0, 0, 0, 0.95);
            overflow-y: auto;
            padding: 20px;
            backdrop-filter: blur(5px);
        }

        .login-modal-content {
            background: linear-gradient(135deg, rgba(21, 27, 43, 0.95) 0%, rgba(11, 15, 25, 0.98) 100%);
            margin: 5% auto;
            padding: 50px;
            border-radius: 20px;
            width: 90%;
            max-width: 450px;
            border: 2px solid rgba(14, 165, 233, 0.3);
            box-shadow: 0 20px 60px rgba(0, 0, 0, 0.8), 0 0 40px rgba(14, 165, 233, 0.2);
        }

        .login-modal-header {
            text-align: center;
            margin-bottom: 40px;
        }

        .login-modal-header h2 {
            font-size: 2rem;
            margin-bottom: 10px;
            background: var(--gradient);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
        }

        .login-modal-header p {
            color: var(--text-muted);
            font-size: 0.95rem;
        }

        .login-icon {
            font-size: 3rem;
            color: var(--accent);
            margin-bottom: 20px;
            display: block;
        }

        .login-form-group {
            margin-bottom: 25px;
        }

        .login-form-group label {
            display: block;
            margin-bottom: 10px;
            color: var(--accent);
            font-weight: 600;
            font-size: 0.95rem;
        }

        .login-form-group input {
            width: 100%;
            padding: 15px;
            background: rgba(11, 15, 25, 0.8);
            border: 1px solid rgba(14, 165, 233, 0.3);
            border-radius: 10px;
            color: var(--text);
            font-size: 1rem;
            font-family: 'Outfit', sans-serif;
            transition: 0.3s;
        }

        .login-form-group input:focus {
            outline: none;
            border-color: var(--accent);
            box-shadow: 0 0 15px rgba(14, 165, 233, 0.3);
            background: rgba(11, 15, 25, 0.95);
        }

        .login-form-group input::placeholder {
            color: var(--text-muted);
        }

        .login-buttons {
            display: flex;
            gap: 15px;
            margin-top: 30px;
        }

        .login-btn-login {
            flex: 1;
            background: var(--gradient);
            color: white;
            padding: 15px;
            border: none;
            border-radius: 10px;
            font-weight: 600;
            font-size: 1rem;
            cursor: pointer;
            transition: 0.3s;
            box-shadow: 0 10px 20px var(--accent-glow);
        }

        .login-btn-login:hover {
            transform: translateY(-3px);
            box-shadow: 0 15px 30px var(--accent-glow);
        }

        .login-btn-cancel {
            flex: 1;
            background: rgba(255, 255, 255, 0.1);
            color: var(--text-muted);
            padding: 15px;
            border: 1px solid rgba(255, 255, 255, 0.1);
            border-radius: 10px;
            font-weight: 600;
            font-size: 1rem;
            cursor: pointer;
            transition: 0.3s;
        }

        .login-btn-cancel:hover {
            background: rgba(255, 255, 255, 0.15);
            color: var(--text);
        }

        .login-error {
            margin-top: 20px;
            padding: 15px;
            background: rgba(239, 68, 68, 0.1);
            border: 1px solid var(--danger);
            border-radius: 8px;
            color: var(--danger);
            text-align: center;
            display: none;
            font-size: 0.9rem;
        }

        .login-error i {
            margin-right: 8px;
        }

        .login-info {
            margin-top: 30px;
            padding: 15px;
            background: rgba(14, 165, 233, 0.1);
            border: 1px solid rgba(14, 165, 233, 0.3);
            border-radius: 8px;
            font-size: 0.85rem;
            color: var(--text-muted);
            text-align: center;
        }

        .login-info i {
            margin-right: 8px;
            color: var(--accent);
        }

        /* ADMIN MODAL */
        .admin-modal {
            display: none;
            position: fixed;
            z-index: 9999;
            left: 0;
            top: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(0, 0, 0, 0.95);
            overflow-y: auto;
            padding: 20px;
        }

        .admin-modal-content {
            background: var(--card);
            margin: 20px auto;
            padding: 40px;
            border-radius: 20px;
            width: 90%;
            max-width: 900px;
            border: 1px solid rgba(255,255,255,0.1);
        }

        .admin-modal-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 30px;
            border-bottom: 1px solid rgba(255,255,255,0.1);
            padding-bottom: 20px;
        }

        .admin-modal-header h2 { font-size: 2rem; }
        .admin-close { color: var(--text-muted); font-size: 2rem; cursor: pointer; transition: 0.3s; }
        .admin-close:hover { color: var(--danger); }

        .admin-tabs {
            display: flex;
            gap: 10px;
            margin-bottom: 30px;
            border-bottom: 1px solid rgba(255,255,255,0.1);
            flex-wrap: wrap;
        }

        .admin-tab-btn {
            background: none;
            border: none;
            color: var(--text-muted);
            padding: 12px 20px;
            cursor: pointer;
            font-size: 1rem;
            font-weight: 600;
            transition: 0.3s;
            border-bottom: 3px solid transparent;
        }

        .admin-tab-btn.active {
            color: var(--accent);
            border-bottom-color: var(--accent);
        }

        .admin-tab { display: none; }
        .admin-tab.active { display: block; }

        .admin-form-group {
            margin-bottom: 20px;
        }

        .admin-form-group label {
            display: block;
            margin-bottom: 8px;
            color: var(--accent);
            font-weight: 600;
        }

        .admin-form-group input,
        .admin-form-group textarea {
            width: 100%;
            padding: 12px;
            background: #0b0f19;
            border: 1px solid rgba(255,255,255,0.1);
            border-radius: 8px;
            color: var(--text);
            font-size: 1rem;
            font-family: 'Outfit', sans-serif;
        }

        .admin-form-group textarea { resize: vertical; min-height: 100px; }

        .admin-list-item {
            background: #0b0f19;
            padding: 15px;
            margin-bottom: 10px;
            border-radius: 8px;
            display: flex;
            justify-content: space-between;
            align-items: center;
            border: 1px solid rgba(255,255,255,0.05);
            transition: 0.3s;
        }

        .admin-list-item:hover { border-color: var(--accent); background: #151b2b; }
        .admin-list-item-text { flex-grow: 1; }
        .admin-list-item-text strong { color: var(--accent); }
        .admin-list-item-text small { color: var(--text-muted); }
        .admin-list-item-actions { display: flex; gap: 10px; }

        .admin-notice {
            position: fixed;
            bottom: 100px;
            right: 30px;
            background: rgba(34, 197, 94, 0.15);
            padding: 15px 20px;
            border-radius: 30px;
            font-size: 0.9rem;
            color: var(--success);
            border: 1px solid var(--success);
            z-index: 499;
            display: none;
            animation: slideIn 0.3s ease;
            box-shadow: 0 10px 20px rgba(34, 197, 94, 0.2);
        }

        @keyframes slideIn {
            from { transform: translateY(20px); opacity: 0; }
            to { transform: translateY(0); opacity: 1; }
        }

        /* CERTIFICATE MODAL */
        .cert-modal { display: none; position: fixed; z-index: 1000; left: 0; top: 0; width: 100%; height: 100%; background-color: rgba(0,0,0,0.8); }
        .cert-modal-content { background: var(--card); margin: 10% auto; padding: 40px; border-radius: 20px; width: 90%; max-width: 600px; border: 1px solid rgba(255,255,255,0.1); position: relative; }
        .cert-modal-close { position: absolute; top: 20px; right: 20px; color: var(--text-muted); font-size: 2rem; cursor: pointer; transition: 0.3s; }
        .cert-modal-close:hover { color: var(--accent); transform: scale(1.1); }
        .cert-modal-header { text-align: center; margin-bottom: 30px; }
        .cert-modal-icon { font-size: 4rem; color: var(--accent); margin-bottom: 20px; }
        .cert-modal-title { font-size: 2rem; margin-bottom: 10px; }
        .cert-modal-issuer { color: var(--text-muted); font-size: 1.1rem; }

        /* TIMELINE STYLES */
        .timeline { position: relative; max-width: 800px; margin: 0 auto; }
        .timeline::after { content: ''; position: absolute; width: 2px; background: rgba(255,255,255,0.1); top: 0; bottom: 0; left: 20px; margin-left: -1px; }
        .timeline-item { padding: 10px 40px; position: relative; background: inherit; width: 100%; }
        .timeline-item::after { content: ''; position: absolute; width: 16px; height: 16px; right: auto; left: 12px; top: 15px; border-radius: 50%; z-index: 1; background: var(--accent); border: 2px solid var(--bg); }
        .timeline-content { padding: 20px; background: var(--card); border-radius: 10px; border: 1px solid rgba(255,255,255,0.05); }
        .timeline-date { font-size: 0.85rem; color: var(--accent); font-weight: bold; margin-bottom: 5px; display: block; }

        /* STATISTICS COUNTER STYLES */
        .stats { display: flex; justify-content: center; gap: 50px; margin: 50px 0; flex-wrap: wrap; }
        .stat-item { text-align: center; }
        .stat-number { font-size: 3rem; font-weight: 800; color: var(--accent); margin-bottom: 10px; }
        .stat-label { font-size: 1rem; color: var(--text-muted); text-transform: uppercase; letter-spacing: 1px; }

        /* RESPONSIVE */
        @media (max-width: 768px) {
            .container { padding: 0 15px; }
            header { padding: 15px 0; }
            .logo { font-size: 1.2rem; }
            nav { flex-direction: column; gap: 15px; text-align: center; }
            .hero { padding-top: 60px; }
            .hero .container { grid-template-columns: 1fr; gap: 30px; }
            .hero-text { text-align: center; padding: 0; }
            .hero h1 { font-size: 2rem; line-height: 1.2; }
            .hero p { font-size: 1rem; }
            .hero-img { height: 250px; }
            .stats { flex-direction: column; gap: 20px; text-align: center; }
            .stat-number { font-size: 2.5rem; }
            .section-header h2 { font-size: 2rem; }
            .grid { grid-template-columns: 1fr; gap: 20px; }
            .card { max-width: 100%; }
            .cert-row { flex-direction: column; text-align: center; gap: 10px; }
            .timeline::after { left: 15px; }
            .timeline-item { padding-left: 30px; }
            .timeline-item::after { left: 7px; }
            .tech-item { padding: 20px; }
            .chart-container { padding: 20px; }
            .admin-modal-content { width: 95%; padding: 20px; max-width: none; }
            .admin-tabs { flex-direction: column; }
            .login-modal-content { width: 95%; padding: 30px; max-width: none; }
        }

        @media (max-width: 480px) {
            .hero h1 { font-size: 1.8rem; }
            .hero p { font-size: 0.9rem; }
            .btn { padding: 10px 20px; font-size: 0.9rem; }
            .section-header h2 { font-size: 1.8rem; }
            .stat-number { font-size: 2rem; }
            .card-content { padding: 20px; }
            .tech-item { padding: 15px; }
            .tech-item h4 { font-size: 0.9rem; }
            .tech-item p { font-size: 0.8rem; }
            footer { padding: 30px 15px; font-size: 0.8rem; }
        }
    </style>
</head>
<body>

    <!-- ADMIN BUTTON -->
    <button class="admin-btn-main" title="Admin Panel" onclick="openLoginModal()">
        <i class="fas fa-cog"></i>
    </button>

    <!-- ADMIN NOTIFICATION -->
    <div class="admin-notice" id="adminNotice">
        <i class="fas fa-check-circle"></i> <span id="noticeText">Changes saved!</span>
    </div>

    <!-- LOGIN MODAL -->
    <div id="loginModal" class="login-modal">
        <div class="login-modal-content">
            <div class="login-modal-header">
                <i class="fas fa-lock login-icon"></i>
                <h2>Admin Access</h2>
                <p>Secure Portfolio Management</p>
            </div>

            <form onsubmit="authenticateAdmin(event)">
                <div class="login-form-group">
                    <label><i class="fas fa-envelope"></i> Email Address</label>
                    <input type="email" id="loginEmail" placeholder="Enter your email" required>
                </div>

                <div class="login-form-group">
                    <label><i class="fas fa-key"></i> Password</label>
                    <input type="password" id="loginPassword" placeholder="Enter your password" required>
                </div>

                <div class="login-buttons">
                    <button type="submit" class="login-btn-login">
                        <i class="fas fa-sign-in-alt"></i> Login
                    </button>
                    <button type="button" class="login-btn-cancel" onclick="closeLoginModal()">
                        <i class="fas fa-times"></i> Cancel
                    </button>
                </div>
            </form>

            <div class="login-error" id="loginError">
                <i class="fas fa-exclamation-circle"></i> <span id="errorMessage">Invalid credentials</span>
            </div>

            <div class="login-info">
                <i class="fas fa-info-circle"></i> This area is password protected for security purposes
            </div>
        </div>
    </div>

    <!-- ADMIN MODAL -->
    <div id="adminModal" class="admin-modal">
        <div class="admin-modal-content">
            <div class="admin-modal-header">
                <h2><i class="fas fa-shield-alt" style="color: var(--accent); margin-right: 10px;"></i>Admin Panel</h2>
                <span class="admin-close" onclick="closeAdminPanel()">&times;</span>
            </div>

            <div class="admin-tabs">
                <button class="admin-tab-btn active" onclick="switchAdminTab(event, 'projects')">Projects</button>
                <button class="admin-tab-btn" onclick="switchAdminTab(event, 'certs')">Certificates</button>
                <button class="admin-tab-btn" onclick="switchAdminTab(event, 'skills')">Skills</button>
                <button class="admin-tab-btn" onclick="switchAdminTab(event, 'journey')">Journey</button>
                <button class="admin-tab-btn" onclick="switchAdminTab(event, 'export')">Export Data</button>
            </div>

            <!-- PROJECTS TAB -->
            <div id="tab-projects" class="admin-tab active">
                <h3 style="margin-bottom: 20px; color: var(--accent);">Add New Project</h3>
                <div class="admin-form-group">
                    <label>Project Title</label>
                    <input type="text" id="projectTitle" placeholder="e.g. Daily Motivator Analytics">
                </div>
                <div class="admin-form-group">
                    <label>Description</label>
                    <textarea id="projectDesc" placeholder="Describe your project..."></textarea>
                </div>
                <div class="admin-form-group">
                    <label>Tags (comma separated)</label>
                    <input type="text" id="projectTags" placeholder="e.g. Python, SQL, Power BI">
                </div>
                <div class="admin-form-group">
                    <label>Image URL</label>
                    <input type="text" id="projectImage" placeholder="https://images.unsplash.com/...">
                </div>
                <button class="btn btn-success" onclick="addProject()"><i class="fas fa-plus"></i> Add Project</button>

                <h3 style="margin: 40px 0 20px; color: var(--accent);">Existing Projects</h3>
                <div id="projectsList"></div>
            </div>

            <!-- CERTIFICATES TAB -->
            <div id="tab-certs" class="admin-tab">
                <h3 style="margin-bottom: 20px; color: var(--accent);">Add New Certificate</h3>
                <div class="admin-form-group">
                    <label>Certificate Name</label>
                    <input type="text" id="certName" placeholder="e.g. Power BI Certification">
                </div>
                <div class="admin-form-group">
                    <label>Issuer</label>
                    <input type="text" id="certIssuer" placeholder="e.g. Office Master">
                </div>
                <div class="admin-form-group">
                    <label>Year</label>
                    <input type="text" id="certYear" placeholder="e.g. 2025">
                </div>
                <div class="admin-form-group">
                    <label>Description</label>
                    <textarea id="certDescription" placeholder="Describe the certificate..."></textarea>
                </div>
                <div class="admin-form-group">
                    <label>Download Link</label>
                    <input type="text" id="certDownload" placeholder="https://example.com/cert.pdf">
                </div>
                <button class="btn btn-success" onclick="addCertificate()"><i class="fas fa-plus"></i> Add Certificate</button>

                <h3 style="margin: 40px 0 20px; color: var(--accent);">Existing Certificates</h3>
                <div id="certsList"></div>
            </div>

            <!-- SKILLS TAB -->
            <div id="tab-skills" class="admin-tab">
                <h3 style="margin-bottom: 20px; color: var(--accent);">Add New Skill</h3>
                <div class="admin-form-group">
                    <label>Skill Name</label>
                    <input type="text" id="skillName" placeholder="e.g. Python">
                </div>
                <div class="admin-form-group">
                    <label>Proficiency Level (0-100)</label>
                    <input type="number" id="skillProficiency" placeholder="e.g. 85" min="0" max="100">
                </div>
                <button class="btn btn-success" onclick="addSkill()"><i class="fas fa-plus"></i> Add Skill</button>

                <h3 style="margin: 40px 0 20px; color: var(--accent);">Existing Skills</h3>
                <div id="skillsList"></div>
            </div>

            <!-- JOURNEY TAB -->
            <div id="tab-journey" class="admin-tab">
                <h3 style="margin-bottom: 20px; color: var(--accent);">Add New Journey Entry</h3>
                <div class="admin-form-group">
                    <label>Timeline (e.g. 2024 - Present)</label>
                    <input type="text" id="journeyDate" placeholder="2024 - Present">
                </div>
                <div class="admin-form-group">
                    <label>Title</label>
                    <input type="text" id="journeyTitle" placeholder="e.g. MCA Student">
                </div>
                <div class="admin-form-group">
                    <label>Subtitle</label>
                    <input type="text" id="journeySubtitle" placeholder="e.g. Kristu Jayanti College">
                </div>
                <div class="admin-form-group">
                    <label>Description</label>
                    <textarea id="journeyDesc" placeholder="Describe this journey entry..."></textarea>
                </div>
                <button class="btn btn-success" onclick="addJourneyEntry()"><i class="fas fa-plus"></i> Add Entry</button>

                <h3 style="margin: 40px 0 20px; color: var(--accent);">Existing Entries</h3>
                <div id="journeyList"></div>
            </div>

            <!-- EXPORT TAB -->
            <div id="tab-export" class="admin-tab">
                <h3 style="margin-bottom: 20px; color: var(--accent);">Export Portfolio Data</h3>
                <p style="color: var(--text-muted); margin-bottom: 20px;">Copy this JSON data to backup your portfolio:</p>
                <textarea id="exportData" readonly style="width: 100%; height: 400px; background: #0b0f19; border: 1px solid rgba(255,255,255,0.1); border-radius: 8px; color: #0f0; padding: 15px; font-family: monospace;"></textarea>
                <div style="display: flex; gap: 10px; margin-top: 15px;">
                    <button class="btn btn-success" onclick="copyExportData()"><i class="fas fa-copy"></i> Copy to Clipboard</button>
                    <button class="btn btn-primary" onclick="downloadData()"><i class="fas fa-download"></i> Download JSON</button>
                </div>
            </div>
        </div>
    </div>

    <!-- Certificate Modal -->
    <div id="certModal" class="cert-modal">
        <div class="cert-modal-content">
            <span class="cert-modal-close">&times;</span>
            <div class="cert-modal-header">
                <i class="fas fa-certificate cert-modal-icon"></i>
                <h2 class="cert-modal-title" id="modalCertTitle">Certificate Title</h2>
                <p class="cert-modal-issuer" id="modalCertIssuer">Issuer â€¢ Year</p>
            </div>
            <div class="cert-modal-body" style="padding: 20px; text-align: center;">
                <p id="modalCertDescription" style="color: var(--text-muted); margin-bottom: 20px; font-size: 1rem;"></p>
                <a id="modalCertDownload" href="#" download class="btn btn-primary" style="display: inline-block;"><i class="fas fa-download"></i> Download Certificate</a>
            </div>
        </div>
    </div>

    <header>
        <div class="container">
            <nav>
                <div class="logo">Bharath<span>.Analytics</span></div>
                <a href="Data_Analyst_resume.pdf" download class="btn btn-primary">Download Resume</a>
            </nav>
        </div>
    </header>

    <section class="hero">
        <div class="container" style="display: grid; grid-template-columns: 1fr 1fr; gap: 50px; align-items: center;">
            <div class="hero-text">
                <h1 id="bio-name">Loading...</h1>
                <p id="bio-desc">Loading...</p>
                <div class="tags" id="bio-skills"></div>
                <br>
                <a href="#projects" class="btn btn-primary">View Analytics Projects</a>
            </div>
            <div class="hero-img" style="background: var(--card); display: flex; align-items: center; justify-content: center; flex-direction: column;" title="Skills Proficiency Radar Chart">
                <h3 style="color: var(--accent); margin-bottom: 20px; font-size: 1.5rem;">Skills Proficiency Radar Chart</h3>
                <canvas id="skillsChart" width="400" height="400"></canvas>
            </div>
        </div>
    </section>

    <section class="container">
        <div class="stats">
            <div class="stat-item">
                <div class="stat-number" data-target="4">0</div>
                <div class="stat-label">Projects</div>
            </div>
            <div class="stat-item">
                <div class="stat-number" data-target="6">0</div>
                <div class="stat-label">Certifications</div>
            </div>
            <div class="stat-item">
                <div class="stat-number" data-target="86">0</div>
                <div class="stat-label">Grade %</div>
            </div>
            <div class="stat-item">
                <div class="stat-number" data-target="1">0</div>
                <div class="stat-label">Years Exp</div>
            </div>
        </div>
    </section>

    <section id="projects" class="container">
        <div class="section-header">
            <h2>Real-World Projects</h2>
            <p>Full-Stack Apps, ML Models & Corporate Simulations</p>
        </div>
        <div class="grid" id="project-grid"></div>
    </section>

    <section class="container" style="margin-bottom: 80px;">
        <div class="section-header"><h2>Journey</h2></div>
        <div class="timeline" id="timeline-container"></div>
    </section>

    <section id="certs" class="container">
        <div class="section-header">
            <h2>Certifications</h2>
            <p>Verified Credentials from IBM, Microsoft & Infosys</p>
        </div>
        <div id="cert-list"></div>
    </section>

    <section class="container" style="margin-bottom: 80px;">
        <div class="section-header">
            <h2>Tools & Technologies</h2>
            <p>Technologies I work with to deliver data-driven solutions</p>
        </div>
        <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(150px, 1fr)); gap: 30px; max-width: 1000px; margin: 0 auto;">
            <div class="tech-item" style="background: var(--card); padding: 30px; border-radius: 15px; text-align: center; border: 1px solid rgba(255,255,255,0.05); transition: 0.3s; cursor: pointer;">
                <i class="fab fa-python" style="font-size: 3rem; color: var(--accent); margin-bottom: 15px;"></i>
                <h4 style="margin-bottom: 5px;">Python</h4>
                <p style="color: var(--text-muted); font-size: 0.9rem;">Data Analysis & ML</p>
            </div>
            <div class="tech-item" style="background: var(--card); padding: 30px; border-radius: 15px; text-align: center; border: 1px solid rgba(255,255,255,0.05); transition: 0.3s; cursor: pointer;">
                <i class="fas fa-database" style="font-size: 3rem; color: var(--accent); margin-bottom: 15px;"></i>
                <h4 style="margin-bottom: 5px;">SQL</h4>
                <p style="color: var(--text-muted); font-size: 0.9rem;">Database Queries</p>
            </div>
            <div class="tech-item" style="background: var(--card); padding: 30px; border-radius: 15px; text-align: center; border: 1px solid rgba(255,255,255,0.05); transition: 0.3s; cursor: pointer;">
                <i class="fas fa-chart-line" style="font-size: 3rem; color: var(--accent); margin-bottom: 15px;"></i>
                <h4 style="margin-bottom: 5px;">Power BI</h4>
                <p style="color: var(--text-muted); font-size: 0.9rem;">Data Visualization</p>
            </div>
            <div class="tech-item" style="background: var(--card); padding: 30px; border-radius: 15px; text-align: center; border: 1px solid rgba(255,255,255,0.05); transition: 0.3s; cursor: pointer;">
                <i class="fas fa-brain" style="font-size: 3rem; color: var(--accent); margin-bottom: 15px;"></i>
                <h4 style="margin-bottom: 5px;">Machine Learning</h4>
                <p style="color: var(--text-muted); font-size: 0.9rem;">Predictive Models</p>
            </div>
            <div class="tech-item" style="background: var(--card); padding: 30px; border-radius: 15px; text-align: center; border: 1px solid rgba(255,255,255,0.05); transition: 0.3s; cursor: pointer;">
                <i class="fas fa-leaf" style="font-size: 3rem; color: var(--accent); margin-bottom: 15px;"></i>
                <h4 style="margin-bottom: 5px;">MongoDB</h4>
                <p style="color: var(--text-muted); font-size: 0.9rem;">NoSQL Database</p>
            </div>
            <div class="tech-item" style="background: var(--card); padding: 30px; border-radius: 15px; text-align: center; border: 1px solid rgba(255,255,255,0.05); transition: 0.3s; cursor: pointer;">
                <i class="fas fa-chart-bar" style="font-size: 3rem; color: var(--accent); margin-bottom: 15px;"></i>
                <h4 style="margin-bottom: 5px;">Tableau</h4>
                <p style="color: var(--text-muted); font-size: 0.9rem;">Business Intelligence</p>
            </div>
            <div class="tech-item" style="background: var(--card); padding: 30px; border-radius: 15px; text-align: center; border: 1px solid rgba(255,255,255,0.05); transition: 0.3s; cursor: pointer;">
                <i class="fas fa-file-excel" style="font-size: 3rem; color: var(--accent); margin-bottom: 15px;"></i>
                <h4 style="margin-bottom: 5px;">Excel</h4>
                <p style="color: var(--text-muted); font-size: 0.9rem;">Data Analysis</p>
            </div>
            <div class="tech-item" style="background: var(--card); padding: 30px; border-radius: 15px; text-align: center; border: 1px solid rgba(255,255,255,0.05); transition: 0.3s; cursor: pointer;">
                <i class="fab fa-aws" style="font-size: 3rem; color: var(--accent); margin-bottom: 15px;"></i>
                <h4 style="margin-bottom: 5px;">AWS</h4>
                <p style="color: var(--text-muted); font-size: 0.9rem;">Cloud Services</p>
            </div>
        </div>
    </section>

    <section class="container" style="margin-bottom: 80px;">
        <div class="section-header">
            <h2>Skills Proficiency</h2>
            <p>Interactive visualization of my technical skills and proficiency levels</p>
        </div>
        <div style="display: flex; justify-content: center; align-items: center; background: var(--card); border-radius: 20px; padding: 40px; border: 1px solid rgba(255,255,255,0.05); max-width: 600px; margin: 0 auto;">
            <div class="chart-container" style="text-align: center;">
                <h3 style="color: var(--accent); margin-bottom: 20px; font-size: 1.5rem;">Skills Proficiency Heat Map</h3>
                <canvas id="skillsHeatChart" width="400" height="400"></canvas>
            </div>
        </div>
    </section>

    <div class="section-header" id="contact">
        <h2>Let's Connect</h2>
        <p>Currently open for Data Analyst roles in Bengaluru.</p>
    </div>

    <section class="container" style="margin-bottom: 80px;">
        <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 50px; align-items: start;">
            <div>
                <h3 style="margin-bottom: 20px; color: var(--accent);">Send a Message</h3>
                <form id="contactForm" style="display: flex; flex-direction: column; gap: 20px;">
                    <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 15px;">
                        <input type="text" id="name" placeholder="Your Name" required style="padding: 15px; background: var(--card); border: 1px solid rgba(255,255,255,0.1); border-radius: 10px; color: var(--text); font-size: 1rem;">
                        <input type="email" id="email" placeholder="Your Email" required style="padding: 15px; background: var(--card); border: 1px solid rgba(255,255,255,0.1); border-radius: 10px; color: var(--text); font-size: 1rem;">
                    </div>
                    <input type="text" id="subject" placeholder="Subject" required style="padding: 15px; background: var(--card); border: 1px solid rgba(255,255,255,0.1); border-radius: 10px; color: var(--text); font-size: 1rem;">
                    <textarea id="message" placeholder="Your Message" rows="6" required style="padding: 15px; background: var(--card); border: 1px solid rgba(255,255,255,0.1); border-radius: 10px; color: var(--text); font-size: 1rem; resize: vertical;"></textarea>
                    <button type="submit" class="btn btn-primary" style="align-self: flex-start;">Send Message</button>
                </form>
                <div id="formMessage" style="margin-top: 20px; padding: 15px; border-radius: 10px; display: none;"></div>
            </div>

            <div>
                <h3 style="margin-bottom: 20px; color: var(--accent);">Get In Touch</h3>
                <div style="display: flex; flex-direction: column; gap: 20px;">
                    <div style="display: flex; align-items: center; gap: 15px;">
                        <i class="fas fa-envelope" style="color: var(--accent); font-size: 1.5rem;"></i>
                        <div>
                            <div style="font-weight: 600;">Email</div>
                            <div style="color: var(--text-muted);">bharathkumarkbk10@gmail.com</div>
                        </div>
                    </div>
                    <div style="display: flex; align-items: center; gap: 15px;">
                        <i class="fas fa-map-marker-alt" style="color: var(--accent); font-size: 1.5rem;"></i>
                        <div>
                            <div style="font-weight: 600;">Location</div>
                            <div style="color: var(--text-muted);">Bengaluru, Karnataka</div>
                        </div>
                    </div>
                    <div style="display: flex; align-items: center; gap: 15px;">
                        <i class="fas fa-briefcase" style="color: var(--accent); font-size: 1.5rem;"></i>
                        <div>
                            <div style="font-weight: 600;">Availability</div>
                            <div style="color: var(--text-muted);">Open for Data Analyst roles</div>
                        </div>
                    </div>
                </div>

                <div style="margin-top: 40px;">
                    <h4 style="margin-bottom: 15px;">Follow Me</h4>
                    <div style="display: flex; gap: 20px;">
                        <a href="https://www.linkedin.com/in/bharath-kumar-k-b35ba0304" target="_blank" style="color: var(--accent); font-size: 2rem; transition: 0.3s;"><i class="fab fa-linkedin"></i></a>
                        <a href="https://github.com/Bharath-Kumar-K-0930" target="_blank" style="color: var(--accent); font-size: 2rem; transition: 0.3s;"><i class="fab fa-github"></i></a>
                        <a href="https://www.instagram.com/bhar_ath.b.k" target="_blank" style="color: var(--accent); font-size: 2rem; transition: 0.3s;"><i class="fab fa-instagram"></i></a>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <footer style="text-align: center; padding: 50px; color: var(--text-muted); font-size: 0.9rem;">
        &copy; 2025 Bharath Kumar K.
    </footer>

    <script>
        /* ===== PORTFOLIO DATA ===== */
        let portfolioData = {
            personal: {
                name: "Bharath Kumar K",
                role: "Data Analyst & MCA Student",
                bio: "I bridge the gap between complex data and business strategy. Skilled in SQL, Python, and Power BI, I build systems that generate insights, not just reports.",
                email: "bharathkumarkbk10@gmail.com",
                skills: [
                    {name: "Python", proficiency: 95},
                    {name: "SQL", proficiency: 90},
                    {name: "Power BI", proficiency: 95},
                    {name: "Machine Learning", proficiency: 85},
                    {name: "MongoDB", proficiency: 80},
                    {name: "Data Viz", proficiency: 90},
                    {name: "Excel", proficiency: 40}
                ]
            },

            projects: [
                {
                    title: "Daily Motivator Analytics",
                    desc: "A full-stack web app integrated with a Power BI dashboard to track user retention and habit completion rates over 90 days.",
                    tags: ["Power BI", "Full Stack", "Data Viz"],
                    image: "https://images.unsplash.com/photo-1460925895917-afdab827c52f?auto=format&fit=crop&w=800&q=80",
                    link: "#"
                },
                {
                    title: "IPL Match Prediction",
                    desc: "Built a Machine Learning model using historical IPL data to predict match outcomes. Cleaned data using Pandas and stored in MongoDB.",
                    tags: ["Python", "Machine Learning", "MongoDB"],
                    image: "https://images.unsplash.com/photo-1555949963-ff9fe0c870eb?auto=format&fit=crop&w=800&q=80",
                    link: "#"
                },
                {
                    title: "Deloitte Job Simulation",
                    desc: "Completed practical tasks in Data Analysis and Forensic Technology. Analyzed datasets to solve business problems.",
                    tags: ["Data Analysis", "Tableau", "Forensics"],
                    image: "https://images.unsplash.com/photo-1552664730-d307ca884978?auto=format&fit=crop&w=800&q=80",
                    link: "#"
                },
                {
                    title: "AI for Climate Modeling",
                    desc: "Presented a research paper on using AI for disaster prediction at the National Student Research Symposium.",
                    tags: ["Research", "AI Concepts", "Presentation"],
                    image: "https://images.unsplash.com/photo-1451187580459-43490279c0fa?auto=format&fit=crop&w=800&q=80",
                    link: "#"
                },
                {
                    title: "Pet-Voice-Translator",
                    desc: "The project aims to enhance pet care by bridging the communication gap using AI-driven voice analysis integrated with an e-commerce platform for immediate action.",
                    tags: ["JavaScript", "Python", "React.js", "Node.js", "TensorFlow & Keras", "Librosa", "NumPy", "MongoDB", "RESTful API Design", "UML Modeling"],
                    image: "https://th.bing.com/th/id/R.1ccff62d6f8467c66c3599d4e44e6ab4?rik=zhirHJxP8Nn4Pg&riu=http%3a%2f%2fgetwallpapers.com%2fwallpaper%2ffull%2fc%2f1%2f9%2f370292.jpg&ehk=bomed0XVW7%2fO2HxQ5rG5TZG0AvOFe9d7jrofIut0En0%3d&risl=&pid=ImgRaw&r=0",
                    link: "#"
                }
            ],

            certificates: [
                { name: "Power BI Certification", issuer: "Office Master", year: "2025", description: "Comprehensive certification covering Power BI data modeling, visualization, and dashboard creation.", download: "#" },
                { name: "Excel Basics for Data Analysis", issuer: "IBM / Coursera", year: "2025", description: "Fundamental skills in Excel for data analysis, including formulas, pivot tables, and data visualization.", download: "#" },
                { name: "Copilot for Power BI", issuer: "Microsoft", year: "2025", description: "Advanced certification on using Copilot features in Power BI for enhanced productivity.", download: "#" },
                { name: "Azure AI Fundamentals", issuer: "Infosys Springboard", year: "2025", description: "Introduction to Azure AI services and machine learning concepts.", download: "#" },
                { name: "Database Management System", issuer: "Infosys", year: "2025", description: "Comprehensive understanding of database design, SQL, and data management principles.", download: "#" },
                { name: "Agentic Prompt Engineering", issuer: "UiPath", year: "2025", description: "Skills in creating effective prompts for AI agents and automation workflows.", download: "#" }
            ],

            journey: [
                { date: "2024 - Present", title: "MCA (Master of Computer Applications)", subtitle: "Kristu Jayanti College, Bengaluru", desc: "Focusing on Data Science. Achievements: Top 10 in class, Research Paper on Climate Modeling." },
                { date: "Nov 2025", title: "Data Analytics Job Simulation", subtitle: "Deloitte", desc: "Completed practical tasks in forensic technology and data visualization." },
                { date: "2021 - 2024", title: "B.Sc (Computers)", subtitle: "Kuvempu University", desc: "Graduated with 86%. Secured 1st Place in District Level competition." }
            ]
        };

        // Load data from localStorage
        function loadData() {
            const saved = localStorage.getItem('portfolioData');
            if (saved) {
                portfolioData = JSON.parse(saved);
            }
        }

        // Save data to localStorage
        function saveData() {
            localStorage.setItem('portfolioData', JSON.stringify(portfolioData));
            showNotice('Changes saved locally!');
            renderPortfolio();
        }

        /* ===== ADMIN PANEL FUNCTIONS ===== */
        function openAdminPanel() {
            document.getElementById('adminModal').style.display = 'block';
            updateAdminLists();
        }

        function closeAdminPanel() {
            document.getElementById('adminModal').style.display = 'none';
        }

        function switchAdminTab(event, tab) {
            // Hide all tabs
            document.querySelectorAll('.admin-tab').forEach(t => t.classList.remove('active'));
            document.querySelectorAll('.admin-tab-btn').forEach(b => b.classList.remove('active'));

            // Show selected tab
            document.getElementById('tab-' + tab).classList.add('active');
            event.target.classList.add('active');

            // Update export data
            if (tab === 'export') {
                document.getElementById('exportData').value = JSON.stringify(portfolioData, null, 2);
            }
        }

        function showNotice(message) {
            const notice = document.getElementById('adminNotice');
            document.getElementById('noticeText').textContent = message;
            notice.style.display = 'block';
            setTimeout(() => { notice.style.display = 'none'; }, 3000);
        }

        /* ===== PROJECT MANAGEMENT ===== */
        function addProject() {
            const title = document.getElementById('projectTitle').value;
            const desc = document.getElementById('projectDesc').value;
            const tags = document.getElementById('projectTags').value.split(',').map(t => t.trim());
            const image = document.getElementById('projectImage').value || 'https://via.placeholder.com/800';

            if (title && desc) {
                portfolioData.projects.push({ title, desc, tags, image, link: '#' });
                document.getElementById('projectTitle').value = '';
                document.getElementById('projectDesc').value = '';
                document.getElementById('projectTags').value = '';
                document.getElementById('projectImage').value = '';
                saveData();
                updateAdminLists();
            } else {
                alert('Please fill all fields');
            }
        }

        function deleteProject(index) {
            if (confirm('Delete this project?')) {
                portfolioData.projects.splice(index, 1);
                saveData();
                updateAdminLists();
            }
        }

        /* ===== CERTIFICATE MANAGEMENT ===== */
        function addCertificate() {
            const name = document.getElementById('certName').value;
            const issuer = document.getElementById('certIssuer').value;
            const year = document.getElementById('certYear').value;
            const description = document.getElementById('certDescription').value;
            const download = document.getElementById('certDownload').value;

            if (name && issuer && year) {
                portfolioData.certificates.push({ name, issuer, year, description, download });
                document.getElementById('certName').value = '';
                document.getElementById('certIssuer').value = '';
                document.getElementById('certYear').value = '';
                document.getElementById('certDescription').value = '';
                document.getElementById('certDownload').value = '';
                saveData();
                updateAdminLists();
            } else {
                alert('Please fill all fields');
            }
        }

        function deleteCertificate(index) {
            if (confirm('Delete this certificate?')) {
                portfolioData.certificates.splice(index, 1);
                saveData();
                updateAdminLists();
            }
        }

        /* ===== SKILL MANAGEMENT ===== */
        function addSkill() {
            const skillName = document.getElementById('skillName').value;
            const proficiency = parseInt(document.getElementById('skillProficiency').value) || 0;

            if (skillName && proficiency >= 0 && proficiency <= 100) {
                const existingSkill = portfolioData.personal.skills.find(skill => skill.name === skillName);
                if (!existingSkill) {
                    portfolioData.personal.skills.push({ name: skillName, proficiency: proficiency });
                    document.getElementById('skillName').value = '';
                    document.getElementById('skillProficiency').value = '';
                    saveData();
                    updateAdminLists();
                } else {
                    alert('Skill already exists');
                }
            } else {
                alert('Please enter a valid skill name and proficiency (0-100)');
            }
        }

        function deleteSkill(index) {
            if (confirm('Delete this skill?')) {
                portfolioData.personal.skills.splice(index, 1);
                saveData();
                updateAdminLists();
            }
        }

        /* ===== JOURNEY MANAGEMENT ===== */
        function addJourneyEntry() {
            const date = document.getElementById('journeyDate').value;
            const title = document.getElementById('journeyTitle').value;
            const subtitle = document.getElementById('journeySubtitle').value;
            const desc = document.getElementById('journeyDesc').value;

            if (date && title && subtitle && desc) {
                portfolioData.journey.push({ date, title, subtitle, desc });
                document.getElementById('journeyDate').value = '';
                document.getElementById('journeyTitle').value = '';
                document.getElementById('journeySubtitle').value = '';
                document.getElementById('journeyDesc').value = '';
                saveData();
                updateAdminLists();
            } else {
                alert('Please fill all fields');
            }
        }

        function deleteJourneyEntry(index) {
            if (confirm('Delete this journey entry?')) {
                portfolioData.journey.splice(index, 1);
                saveData();
                updateAdminLists();
            }
        }

        /* ===== UPDATE ADMIN LISTS ===== */
        function updateAdminLists() {
            // Projects List
            let projectsHtml = '';
            portfolioData.projects.forEach((proj, i) => {
            projectsHtml += '<div class="admin-list-item"><div class="admin-list-item-text"><strong>' + proj.title + '</strong><br><small>' + proj.desc.substring(0, 50) + '...</small></div><button class="btn btn-danger" onclick="deleteProject(' + i + ')"><i class="fas fa-trash"></i></button></div>';
            });
            document.getElementById('projectsList').innerHTML = projectsHtml;

            // Certificates List
            let certsHtml = '';
            portfolioData.certificates.forEach((cert, i) => {
            certsHtml += '<div class="admin-list-item"><div class="admin-list-item-text"><strong>' + cert.name + '</strong><br><small>' + cert.issuer + ' â€¢ ' + cert.year + '</small></div><button class="btn btn-danger" onclick="deleteCertificate(' + i + ')"><i class="fas fa-trash"></i></button></div>';
            });
            document.getElementById('certsList').innerHTML = certsHtml;

            // Skills List
            let skillsHtml = '';
            portfolioData.personal.skills.forEach((skill, i) => {
            skillsHtml += '<div class="admin-list-item"><div class="admin-list-item-text"><strong>' + skill.name + ' (' + skill.proficiency + '%)</strong></div><button class="btn btn-danger" onclick="deleteSkill(' + i + ')"><i class="fas fa-trash"></i></button></div>';
            });
            document.getElementById('skillsList').innerHTML = skillsHtml;

            // Journey List
            let journeyHtml = '';
            portfolioData.journey.forEach((entry, i) => {
            journeyHtml += '<div class="admin-list-item"><div class="admin-list-item-text"><strong>' + entry.title + '</strong><br><small>' + entry.date + ' â€¢ ' + entry.subtitle + '</small></div><button class="btn btn-danger" onclick="deleteJourneyEntry(' + i + ')"><i class="fas fa-trash"></i></button></div>';
            });
            document.getElementById('journeyList').innerHTML = journeyHtml;
        }

        /* ===== EXPORT FUNCTIONS ===== */
        function copyExportData() {
            const textarea = document.getElementById('exportData');
            textarea.select();
            document.execCommand('copy');
            showNotice('Copied to clipboard!');
        }

        function downloadData() {
            const dataStr = JSON.stringify(portfolioData, null, 2);
            const dataBlob = new Blob([dataStr], { type: 'application/json' });
            const url = URL.createObjectURL(dataBlob);
            const link = document.createElement('a');
            link.href = url;
            link.download = 'portfolio-data.json';
            link.click();
        }

        /* ===== RENDER PORTFOLIO ===== */
        function renderPortfolio() {
            // Bio
            document.getElementById('bio-name').innerText = `Hi, I'm ${portfolioData.personal.name}`;
            document.getElementById('bio-desc').innerText = portfolioData.personal.bio;

            // Skills
            const skillContainer = document.getElementById('bio-skills');
            skillContainer.innerHTML = '';
            portfolioData.personal.skills.forEach(skill => {
            skillContainer.innerHTML += '<span class="tag" style="font-size: 1rem; border: 1px solid var(--accent);">' + skill.name + '</span>';
            });

            // Stats
            const statItems = document.querySelectorAll('.stat-item .stat-number');
            statItems[0].setAttribute('data-target', portfolioData.projects.length); // Projects
            statItems[1].setAttribute('data-target', portfolioData.certificates.length); // Certifications
            // Grade % and Years Exp remain static as per original

            // Projects
            const projectContainer = document.getElementById('project-grid');
            projectContainer.innerHTML = '';
            portfolioData.projects.forEach(proj => {
                const card = '<div class="card"><div class="card-img"><img src="' + proj.image + '" alt="' + proj.title + '"></div><div class="card-content"><h3>' + proj.title + '</h3><div class="tags">' + proj.tags.map(t => '<span class="tag">' + t + '</span>').join('') + '</div><p style="color: var(--text-muted); font-size: 0.9rem; flex-grow: 1;">' + proj.desc + '</p><br><a href="' + proj.link + '" class="btn" style="background: rgba(255,255,255,0.1); text-align: center;">View details</a></div></div>';
                projectContainer.innerHTML += card;
            });

            // Journey
            const timelineContainer = document.getElementById('timeline-container');
            timelineContainer.innerHTML = '';
            portfolioData.journey.forEach(entry => {
                timelineContainer.innerHTML += '<div class="timeline-item"><span class="timeline-date">' + entry.date + '</span><div class="timeline-content"><h3>' + entry.title + '</h3><p style="color:#94a3b8">' + entry.subtitle + '</p><p>' + entry.desc + '</p></div></div>';
            });

            // Certificates
            const certContainer = document.getElementById('cert-list');
            certContainer.innerHTML = '';
            portfolioData.certificates.forEach((cert, i) => {
                certContainer.innerHTML += '<div class="cert-row" data-cert-index="' + i + '"><i class="fas fa-certificate" style="color: var(--accent); font-size: 1.5rem;"></i><div><h4 style="margin-bottom: 3px;">' + cert.name + '</h4><div style="font-size: 0.85rem; color: var(--text-muted);">' + cert.issuer + ' â€¢ ' + cert.year + '</div></div></div>';
            });

            // Chart
            drawChart();
            drawHeatChart();
        }

        function drawChart() {
            const canvas = document.getElementById('skillsChart');
            canvas.width = 400;
            canvas.height = 400;
            const ctx = canvas.getContext('2d');
            if(window.myChart) window.myChart.destroy();

            window.myChart = new Chart(ctx, {
                type: 'radar',
                data: {
                    labels: portfolioData.personal.skills.map(skill => skill.name),
                    datasets: [{
                        label: 'Proficiency Level',
                        data: portfolioData.personal.skills.map(skill => skill.proficiency),
                        backgroundColor: 'rgba(14, 165, 233, 0.2)',
                        borderColor: '#0ea5e9',
                        pointBackgroundColor: '#fff',
                        pointBorderColor: '#0ea5e9',
                    }]
                },
                options: {
                    responsive: false,
                    maintainAspectRatio: false,
                    scales: {
                        r: {
                            angleLines: { color: 'rgba(255,255,255,0.1)' },
                            grid: { color: 'rgba(255,255,255,0.1)' },
                            pointLabels: { color: '#94a3b8', font: { size: 12 } },
                            ticks: { display: false, max: 100 }
                        }
                    },
                    plugins: { legend: { display: false } }
                }
            });
        }

        function drawHeatChart() {
            const canvas = document.getElementById('skillsHeatChart');
            canvas.width = 400;
            canvas.height = 400;
            const ctx = canvas.getContext('2d');
            if(window.myHeatChart) window.myHeatChart.destroy();

            const skills = portfolioData.personal.skills;
            const labels = skills.map(skill => skill.name);
            const data = skills.map(skill => skill.proficiency);

            // Color palette from user specification
            const colorPalette = ['#FF5733', '#33FF57', '#3357FF', '#FF33A6', '#FFBD33', '#33FFF6', '#FFC300', '#C70039', '#900C3F', '#581845'];

            const backgroundColors = skills.map((skill, index) => colorPalette[index % colorPalette.length]);
            const borderColors = backgroundColors;

            // Calculate average proficiency for center text
            const averageProficiency = Math.round(data.reduce((a, b) => a + b, 0) / data.length);

            window.myHeatChart = new Chart(ctx, {
                type: 'doughnut',
                data: {
                    labels: labels,
                    datasets: [{
                        label: 'Proficiency Level',
                        data: data,
                        backgroundColor: backgroundColors,
                        borderColor: borderColors,
                        borderWidth: 3,
                        hoverBorderWidth: 5,
                        hoverBorderColor: '#fff',
                        hoverOffset: 10
                    }]
                },
                options: {
                    responsive: false,
                    maintainAspectRatio: false,
                    cutout: '60%', // Creates the doughnut hole
                    plugins: {
                        legend: {
                            display: true,
                            position: 'bottom',
                            labels: {
                                color: '#94a3b8',
                                font: { size: 12 },
                                padding: 20,
                                usePointStyle: true
                            }
                        },
                        tooltip: {
                            backgroundColor: 'rgba(11, 15, 25, 0.9)',
                            titleColor: '#0ea5e9',
                            bodyColor: '#e2e8f0',
                            borderColor: 'rgba(14, 165, 233, 0.3)',
                            borderWidth: 1,
                            cornerRadius: 8,
                            callbacks: {
                                label: function(context) {
                                    const skill = skills[context.dataIndex];
                                    return `${skill.name}: ${skill.proficiency}% Proficiency`;
                                },
                                afterLabel: function(context) {
                                    const skill = skills[context.dataIndex];
                                    let level = 'Beginner';
                                    if (skill.proficiency >= 90) level = 'Expert';
                                    else if (skill.proficiency >= 80) level = 'Advanced';
                                    else if (skill.proficiency >= 70) level = 'Intermediate';
                                    return `Level: ${level}`;
                                }
                            }
                        },
                        // Custom center text plugin
                        centerText: {
                            display: true,
                            text: `${averageProficiency}%`,
                            subtext: 'Average Proficiency',
                            color: '#0ea5e9',
                            fontSize: 24,
                            subFontSize: 12
                        }
                    },
                    animation: {
                        animateScale: true,
                        animateRotate: true,
                        duration: 2000,
                        easing: 'easeOutBounce'
                    },
                    hover: {
                        mode: 'nearest',
                        intersect: true
                    }
                },
                plugins: [{
                    id: 'centerText',
                    beforeDraw: function(chart) {
                        const { ctx, chartArea: { left, right, top, bottom, width, height } } = chart;
                        ctx.save();

                        const centerX = (left + right) / 2;
                        const centerY = (top + bottom) / 2;

                        // Main text
                        ctx.font = 'bold 24px Outfit';
                        ctx.fillStyle = '#0ea5e9';
                        ctx.textAlign = 'center';
                        ctx.textBaseline = 'middle';
                        ctx.fillText(`${averageProficiency}%`, centerX, centerY - 10);

                        // Subtext
                        ctx.font = '14px Outfit';
                        ctx.fillStyle = '#94a3b8';
                        ctx.fillText('Average Proficiency', centerX, centerY + 15);

                        ctx.restore();
                    }
                }]
            });
        }

        // Animated Counter
        function animateCounter() {
            const counters = document.querySelectorAll('.stat-number');
            const speed = 200;

            counters.forEach(counter => {
                const target = +counter.getAttribute('data-target');
                const count = +counter.innerText;
                const increment = target / speed;

                if (count < target) {
                    counter.innerText = Math.ceil(count + increment);
                    setTimeout(animateCounter, 1);
                } else {
                    counter.innerText = target;
                }
            });
        }

        const statsSection = document.querySelector('.stats');
        const observer = new IntersectionObserver((entries) => {
            entries.forEach(entry => {
                if (entry.isIntersecting) {
                    animateCounter();
                    observer.unobserve(entry.target);
                }
            });
        }, { threshold: 0.5 });

        observer.observe(statsSection);

        // Certificate Modal
        const certModal = document.getElementById('certModal');
        const certModalClose = document.querySelector('.cert-modal-close');

        function openCertModal(certIndex) {
            const cert = portfolioData.certificates[certIndex];
            if (!cert) return;

            document.getElementById('modalCertTitle').textContent = cert.name;
            document.getElementById('modalCertIssuer').textContent = `${cert.issuer} â€¢ ${cert.year}`;
            document.getElementById('modalCertDescription').textContent = cert.description || '';
            document.getElementById('modalCertDownload').href = cert.download || '#';
            certModal.style.display = 'block';
        }

        document.addEventListener('click', function(e) {
            const certRow = e.target.closest('.cert-row');
            if (certRow && certRow.hasAttribute('data-cert-index')) {
                const certIndex = parseInt(certRow.getAttribute('data-cert-index'));
                openCertModal(certIndex);
            }
        });

        certModalClose.addEventListener('click', function() {
            certModal.style.display = 'none';
        });

        window.addEventListener('click', function(e) {
            if (e.target === certModal) {
                certModal.style.display = 'none';
            }
        });

        // Contact Form
        document.getElementById('contactForm').addEventListener('submit', function(e) {
            e.preventDefault();

            const name = document.getElementById('name').value;
            const email = document.getElementById('email').value;
            const subject = document.getElementById('subject').value;
            const message = document.getElementById('message').value;

            const mailtoLink = `mailto:bharathkumarkbk10@gmail.com?subject=${encodeURIComponent(subject)}&body=${encodeURIComponent(`Name: ${name}\nEmail: ${email}\n\nMessage:\n${message}`)}`;

            window.location.href = mailtoLink;

            const formMessage = document.getElementById('formMessage');
            formMessage.style.display = 'block';
            formMessage.style.background = 'rgba(14, 165, 233, 0.1)';
            formMessage.style.border = '1px solid var(--accent)';
            formMessage.style.color = 'var(--accent)';
            formMessage.innerHTML = '<i class="fas fa-check-circle" style="margin-right: 10px;"></i>Opening your email client...';

            this.reset();

            setTimeout(() => {
                formMessage.style.display = 'none';
            }, 5000);
        });

        // Close admin modal on outside click
        window.addEventListener('click', (e) => {
            if (e.target === document.getElementById('adminModal')) {
                closeAdminPanel();
            }
        });

        /* ===== LOGIN MODAL FUNCTIONS ===== */
        function openLoginModal() {
            document.getElementById('loginModal').style.display = 'block';
        }

        function closeLoginModal() {
            document.getElementById('loginModal').style.display = 'none';
        }

        function authenticateAdmin(event) {
            event.preventDefault();
            const email = document.getElementById('loginEmail').value;
            const password = document.getElementById('loginPassword').value;
            const errorDiv = document.getElementById('loginError');
            const errorMessage = document.getElementById('errorMessage');

            // Simple authentication (in a real app, this would be server-side)
            if (email === 'admin@portfolio.com' && password === 'admin123') {
                closeLoginModal();
                openAdminPanel();
                document.getElementById('loginEmail').value = '';
                document.getElementById('loginPassword').value = '';
                errorDiv.style.display = 'none';
            } else {
                errorMessage.textContent = 'Invalid email or password';
                errorDiv.style.display = 'block';
            }
        }

        // Initialize
        loadData();
        renderPortfolio();
    </script>
</body>
</html>
